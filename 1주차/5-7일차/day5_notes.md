# 5-7일차 정리 
---
## 공부 간략 정리 
![순서도](https://velog.velcdn.com/images/y21zzp/post/3b812cab-364e-456e-8cde-9fda4983f407/image.png)
쿠키는 클라이언트에 (특히 브라우저에) 인증 정보를 저장하는 공간이다.
JWT는 Json Web Token의 약자로 모바일이나 웹에서 인증에 사용하는 암호화된 토큰 의미.
세션은 서버에 유저 인증을 위한 정보를 저장하는 공간을 의미함
패스포트는 인증을 쉽게 붙일 수 있게 만들어주는 라이브러리이다.
가드는 NestJS의 미들웨어 중 하나로 인증을 확인하는데 사용합니다.

## 진행
##### 1. 쿠키 및 세션 구현 
- 쿠키 및 세션을 구현하여 인증을 구현해 보았다. login 2~3 API를 생성해서 테스트를 시도해 보았는데 쿠키 정보가 반영되지 않아 완벽히 원하는 대로 구현해 보진 못했다. 배포 전에는 테스트를 거쳐 원하는 대로 구현해 보려 한다. 

##### 2. 로그인 가드 구현 
- 세션 저장 전에 가드에서 먼저 검사 진행
가드 LocalAuthGuard 작성과 LocalStrategy 작성으로 가드 역할하는 파일 작성 이후에 SessionSerializer 구현

##### 3. 배포 
차주인 2주차 마지막 날에 배포가 예정되어 있어 기능 추가에 비중을 주고 배포에 대한 내용만 정리해 보았다. 아래와 같이 진행할 지 다른 방법을 찾을지 추가적인 공부를 해봐야겠다.

현재의 계획
- AWS EC2(?) -> IAM 역할 추가 -> S3 버킷 생성 -> CodeDeploy Agent 설치 -> Github의 Actions을 이용해 CD로 배포 할 예정이다. 

##### 3. 토큰 갱신, 로그아웃, 토큰 블랙리스트, OAuth 구현
- 3월 11일에 가능한 부분까지 진행해 볼 예정이다. 차주부터는 결제, 쿠폰 등 다양한 기능을 개발해야 하기에 집중하여 속도를 높여보겠다. 
