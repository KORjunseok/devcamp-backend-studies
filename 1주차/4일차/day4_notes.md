# 4일차 정리 
---
회원가입과 로그인을 어떻게 진행할지 미리 결정하고 최대한 이해하며 처리해 보기로 했다. 

## 회원가입 
##### 1. 검증 (유효성) ValidationPipe 라이브러리 이용 
- username, password, email 
- class-validator 와 class-transformar를 설치
![ValidationPipe](https://velog.velcdn.com/images/y21zzp/post/d60cfc14-1939-45d2-8536-7f2a5bd62d8d/image.png)

##### 2. DB에 저장한다. (SQLite 이용)
- SQLite의 장점은 가볍고 빠른 구축이 가능하다는 장점이 있다고 한다. 
  -SQLite를 사용한 이유는 개인적으로 경험해 본 적이 없어서와 이번 주차는 회원가입& 로그인만을 구현하는 단계이기에 굳이 설정이 번거로운 RDBMS를 선택할 필요는 없어 선택하게 되었다. (하지만 다음 주차에 기능이 추가가 된다면 다른 RDBMS를 선택해야 할 수도 있겠다.)
  - SQLite를 이용하여 .http 테스트를 하는 거까진 쉬운 단계였지만 DB에 대한 테이블 구조와 데이터를 확인하는 방법을 헤매서 시간을 보내게 되었다. 
  SQLite 익스텐션으로 테이블을 확인해 보았다. 이 컴퓨터의 환경은 윈도우이기에 비쥬얼스튜디오 코드. ctrl + shift + p를 수행하여 .sqlite로 되어 있는 파일을 선택하여 확인할 수 있었다. password 칼럼에 argon2 사용 전과 후를 확인해볼 수 있었다.  
  ![SQLite를](https://velog.velcdn.com/images/y21zzp/post/3abc04af-74ff-460e-8271-574baf319a82/image.png)

##### 3. 회원가입 시 세션 저장 (예정)
- 내일 회원가입 및 로그인 세션 기능 추가를 진행할 예정이다.


##### 4. oauth 를 이용하여 소셜로그인을 구현? 
- 계획은 하고 있지만 로그인 기능을 먼저 구현해 보고 생각해 봐야 할 거 같다. 

## 로그인 
##### 1. 인증 (auth) 모듈 생성
- 생성해보았고 간략하게지만 argon2 라이브러리로 암호화 구현해 봄 
##### 2. 쿠키 및 세션 구현 (예정)
- 대략적으로 어떻게 진행되어야 한다는 건 알겠지만 구조적으로는 잘 몰라서 코드를 구현해 보며 익혀볼 예정 
##### 3. 로그인 가드 구현 (이게 사실 2번이 되어야 하지 않을까)
- 세션 저장 전에 가드에서 먼저 검사 진행 
##### 4. 토큰 갱신, 로그아웃, 토큰 블랙리스트 
- 로그인 구현 완료 후 생각해 봐야 할 거 같다. 